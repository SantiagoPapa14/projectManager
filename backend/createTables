CREATE TABLE `Task`(
    `taskId` BIGINT UNSIGNED NOT NULL UNIQUE AUTO_INCREMENT PRIMARY KEY,
    `name` TEXT NOT NULL,
    `description` TEXT NULL,
    `parentTask` BIGINT NULL
);

CREATE TABLE `User`(
    `userId` BIGINT UNSIGNED NOT NULL UNIQUE AUTO_INCREMENT PRIMARY KEY,
    `username` VARCHAR(255) NOT NULL UNIQUE
);

CREATE TABLE `AssignedTasks`(
    `userId` BIGINT UNSIGNED NOT NULL,
    `taskId` BIGINT UNSIGNED NOT NULL,
    FOREIGN KEY (userId) REFERENCES User(userId),
    FOREIGN KEY (taskId) REFERENCES Task(taskId)
);

CREATE TABLE `Status`(
    `taskId` BIGINT UNSIGNED NOT NULL UNIQUE,
    `priority` BIGINT NOT NULL DEFAULT 1,
    `state` ENUM('Done', 'Pending', 'In Progress') DEFAULT 'Pending',
    `deadline` date DEFAULT NULL,
    FOREIGN KEY (taskId) REFERENCES Task(taskId)
);
